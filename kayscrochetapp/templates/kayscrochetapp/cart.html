{% load custom_filters %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cart</title>
</head>
<body>
  <h1>Cart</h1>
  {% if items %}
    <ul>
      {% for cart_item in items %}
        <li>
          {{ cart_item.item.item_title }} - Quantity: {{ cart_item.quantity }} -
          Price: ${{ cart_item.price|floatformat:2 }} -
          {% if cart_item.total_price %}
            Total Price: ${{ cart_item.total_price|floatformat:2 }}-
          {% endif %}
        </li>
      {% endfor %}
    </ul>
    {% if items|sum_attribute:'total_price' %}
      <p>Total Cart Price: ${{ items|sum_attribute:'total_price'|floatformat:2 }}</p>
    {% else %}
      <p>Total Cart Price: $0.00</p>
    {% endif %}
  {% else %}
    <p>Your cart is empty.</p>
  {% endif %}
</body>
</html>